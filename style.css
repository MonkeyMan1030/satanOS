:root {
    --win-gray: #c0c0c0;
    --win-blue: #000080;
    --win-dark: #808080;
    --win-light: #ffffff;
    --teal-bg: #008080;
}

body {
    background-color: var(--teal-bg);
    margin: 0;
    overflow: hidden;
    font-family: 'Tahoma', sans-serif; /* Close to MS Sans Serif */
    font-size: 11px;
    user-select: none;
}

/* === UTILITY CLASSES === */
.hidden { display: none !important; }
.flex-row { display: flex; flex-direction: row; height: 100%; }
.flex-col { display: flex; flex-direction: column; height: 100%; }
.bg-white { background: white; }

/* === 3D BORDERS (The 98 Magic) === */
.window, .taskbar, #start-menu, .win-btn {
    background: var(--win-gray);
    box-shadow: inset 1px 1px #dfdfdf, 
                inset -1px -1px #000000, 
                1px 1px 0px #000000;
    border-top: 1px solid #ffffff;
    border-left: 1px solid #ffffff;
    border-right: 1px solid #808080;
    border-bottom: 1px solid #808080;
    padding: 2px;
}

.inset-field, .win-input, .email-list, .email-preview {
    background: white;
    border-top: 1px solid #808080;
    border-left: 1px solid #808080;
    border-right: 1px solid #ffffff;
    border-bottom: 1px solid #ffffff;
    box-shadow: inset 1px 1px 0px #000, 
                inset -1px -1px 0px #dfdfdf;
}

/* === DESKTOP === */
#desktop {
    padding: 10px;
    display: flex;
    flex-direction: column;
    flex-wrap: wrap;
    height: calc(100vh - 40px);
    align-content: flex-start;
}

.desktop-icon {
    width: 70px;
    margin-bottom: 20px;
    text-align: center;
    color: white;
    cursor: pointer;
    position: relative;
}
.desktop-icon .icon-img { font-size: 32px; text-shadow: 2px 2px 0 #000; }
.desktop-icon .icon-text { margin-top: 2px; text-shadow: 1px 1px 0 #000; padding: 2px; background: none; }
.desktop-icon:active .icon-img { transform: translate(1px, 1px); }
.desktop-icon:active .icon-text { background: var(--win-blue); border: 1px dotted white; }

.badge {
    position: absolute; top: -5px; right: 10px;
    background: red; color: white; border-radius: 50%;
    width: 16px; height: 16px; font-size: 10px; line-height: 16px; border: 1px solid white;
}

/* === WINDOWS === */
.window { position: absolute; display: flex; flex-direction: column; }
.window-body { padding: 8px; flex-grow: 1; }

.title-bar {
    background: linear-gradient(90deg, var(--win-blue), #1084d0);
    color: white; padding: 3px;
    display: flex; justify-content: space-between; align-items: center;
    font-weight: bold; font-size: 11px;
}
.title-bar.inactive { background: #808080; color: #c0c0c0; }

.title-bar-controls button {
    width: 16px; height: 14px; font-size: 9px; line-height: 10px;
    background: var(--win-gray); border: 1px outset white; margin-left: 2px;
}
.title-bar-controls button:active { border-style: inset; }

/* === APP: CALCULATOR === */
.calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 3px; }
.calc-grid button { height: 25px; cursor: pointer; }

/* === APP: EMAIL === */
.toolbar { margin-bottom: 5px; border-bottom: 1px solid #808080; padding-bottom: 5px; }
.toolbar button { margin-right: 5px; padding: 2px 5px; }
.sidebar-tree { width: 120px; padding: 5px; background: white; }
.sidebar-tree ul { list-style: none; padding: 0; margin: 0; }
.sidebar-tree li { padding: 2px; cursor: pointer; }
.sidebar-tree li:hover { background: var(--win-blue); color: white; }
.email-list table { width: 100%; border-collapse: collapse; }
.email-list th { text-align: left; background: var(--win-gray); border-bottom: 1px solid black; padding: 2px; }
.email-list tr:hover { background: var(--win-blue); color: white; cursor: pointer; }
.email-preview { height: 150px; margin-top: 5px; overflow-y: auto; }

/* === APP: COMPUTER === */
.file-grid { display: flex; gap: 15px; padding: 10px; }
.file-item { text-align: center; cursor: pointer; width: 60px; }
.file-item:active span { background: var(--win-blue); color: white; }
.sidebar-gray { width: 120px; background: var(--win-gray); padding: 10px; display: flex; flex-direction: column; align-items: center; text-align: center; }

/* === APP: GALLERY === */
.gallery-toolbar { display: flex; justify-content: space-between; margin-bottom: 5px; }
#gallery-display img { max-width: 100%; max-height: 100%; }

/* === START MENU === */
#start-menu {
    position: fixed; bottom: 28px; left: 2px; width: 180px;
    display: flex; z-index: 10000;
}
.start-sidebar {
    width: 25px; background: var(--win-blue); color: white;
    display: flex; align-items: flex-end; padding-bottom: 5px;
}
.vertical-text { transform: rotate(-90deg); white-space: nowrap; margin-bottom: 20px; font-size: 16px; }
.start-items { flex-grow: 1; padding: 2px; }
.start-item { padding: 5px 10px; cursor: pointer; }
.start-item:hover { background: var(--win-blue); color: white; }

/* === TASKBAR === */
#taskbar {
    position: fixed; bottom: 0; left: 0; width: 100%; height: 28px;
    display: flex; align-items: center; padding: 2px; z-index: 9999;
}
.start-btn { 
    font-weight: bold; padding: 2px 5px; display: flex; align-items: center; gap: 4px; 
    border: 2px outset white; cursor: pointer;
}
.start-btn:active { border-style: inset; }
.taskbar-tray { 
    margin-left: auto; border: 1px inset white; background: var(--win-gray); 
    padding: 2px 10px; margin-right: 5px; 
}

/* === BSOD === */
#bsod {
    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
    background: #0000aa; color: white;
    font-family: 'Courier New'; display: flex; flex-direction: column;
    justify-content: center; align-items: center; text-align: center;
    z-index: 99999;
}
